{% extends 'base.html' %}

{% block navbar %}
<ul class="nav navbar-nav">
    <li><a href="{% url 'quizzes:index' %}">Home</a></li>
    {% if user.is_authenticated %}
    <li><a href="{% url 'quizzes:create' %}">Create</a></li>
    <li><a href="{% url 'quizzes:my_quizzes' %}">Your quizzes</a></li>
    {% endif %}
    <li class="active"><a href="{% url 'quizzes:quizzes' %}">Play</a></li>
</ul>
<ul class="nav navbar-nav navbar-right">
    {% if user.is_authenticated %}
    <p class="navbar-text"><span class=" glyphicon glyphicon-user"></span> {{ user.get_username }}
    </p>
    <li><a href="{% url 'logout' %}"><span class=" glyphicon glyphicon-log-out"></span> Logout</a>
    </li>
    {% else %}
    <li><a href="{% url 'accounts:signup' %}"><span class=" glyphicon glyphicon-user"></span> Sign
        Up</a></li>
    <li><a href="{% url 'login' %}"><span class=" glyphicon glyphicon-log-in"></span> Login</a></li>
    {% endif %}
</ul>
{% endblock navbar %}

{% block content %}
<div class="container-fluid">
    <div class="jumbotron">
        <h2>Choose the quiz you want to play</h2>
        <p>Quizzes created by you can only be edited. If you want to try playing them, log out
            first.</p>

        <form name="form" method="POST">
            <input type="submit" value="Filter"/>
            {% csrf_token %}
            <table class="table table-striped">

                <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Author</th>
                    <th>Category</th>
                    <th>Topic</th>
                    <th>Description</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td></td>
                    {% for field in form %}
                    <td>{{ field }}
                        {% for error in field.errors %}
                        <p class="help-block">{{ error }}</p>
                        {% endfor %}
                    </td>
                    {% endfor %}
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    {% for quiz in quizzes %}
                <tr>
                    <td> {{ quiz.id }}</td>
                    <td> {{ quiz.name }}</td>
                    <td> {{ quiz.author.username }}</td>
                    <td> {{ quiz.category }}</td>
                    <td> {{ quiz.topic }}</td>
                    <td> {{ quiz.description }}</td>
                    <td>
                        <a href="{% url 'quizzes:quiz' quiz_id=quiz.id %}" class="btn btn-default"
                           role="button">Play</a>
                    </td>

                </tr>
                {% endfor %}
                </tr>
                </tbody>
            </table>
        </form>
    </div>
</div>
{% endblock content %}